#!/usr/bin/env python3
"""
–ü—Ä–æ—Å—Ç–æ–π –∞–Ω–∞–ª–∏–∑ —á–∞—Å—Ç–æ—Ç—ã —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è KufarSearcher
–†–∞—Å—á–µ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ Kufar.by –ø—Ä–∏ Query Refresh Delay = 10 —Å–µ–∫—É–Ω–¥
"""

def analyze_scanner_frequency():
    """–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ñ–∞–∫—Ç–∏—á–µ—Å–∫—É—é —á–∞—Å—Ç–æ—Ç—É —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è"""
    
    print("üîç –ê–ù–ê–õ–ò–ó –ß–ê–°–¢–û–¢–´ –°–ö–ê–ù–ò–†–û–í–ê–ù–ò–Ø KUFARSEARCHER")
    print("=" * 60)
    
    # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
    interval_seconds = 10  # Query Refresh Delay –∏–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    num_filters = 3  # –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º 3 –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–∞
    
    print(f"üìä Query Refresh Delay: {interval_seconds} —Å–µ–∫—É–Ω–¥")
    print(f"üìä –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤: {num_filters}")
    print(f"üìä –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å: –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥")
    print()
    
    # –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–∏–∫–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
    print("‚öôÔ∏è –õ–û–ì–ò–ö–ê –†–ê–ë–û–¢–´ –ü–õ–ê–ù–ò–†–û–í–©–ò–ö–ê:")
    print("-" * 40)
    print("1. ‚è∞ schedule.every(1).minutes.do(search_and_notify)")
    print("   ‚Üí –§—É–Ω–∫—Ü–∏—è search_and_notify() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥")
    print()
    print("2. üîç –í –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ search_and_notify():")
    print("   ‚Üí –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã")
    print("   ‚Üí –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º: (now - last_scan_time) >= 10 —Å–µ–∫—É–Ω–¥")
    print("   ‚Üí –°–∫–∞–Ω–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –≥–æ—Ç–æ–≤—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã")
    print("   ‚Üí –û–±–Ω–æ–≤–ª—è–µ–º last_scan_time –ø–æ—Å–ª–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è")
    print()
    print("3. ‚è∏Ô∏è –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤: 2-5 —Å–µ–∫—É–Ω–¥")
    print()
    
    # –†–∞—Å—á–µ—Ç —á–∞—Å—Ç–æ—Ç—ã —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞
    print("üìä –ß–ê–°–¢–û–¢–ê –°–ö–ê–ù–ò–†–û–í–ê–ù–ò–Ø –û–î–ù–û–ì–û –§–ò–õ–¨–¢–†–ê:")
    print("-" * 45)
    scans_per_hour_per_filter = 3600 / interval_seconds
    scans_per_day_per_filter = 24 * scans_per_hour_per_filter
    
    print(f"‚Ä¢ –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –æ–¥–∏–Ω —Ñ–∏–ª—å—Ç—Ä –¥–æ–ª–∂–µ–Ω —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–µ: {interval_seconds} —Å–µ–∫—É–Ω–¥")
    print(f"‚Ä¢ –ù–æ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Ç–æ–ª—å–∫–æ –∫–∞–∂–¥—ã–µ: 60 —Å–µ–∫—É–Ω–¥")
    print()
    print("üîç –§–ê–ö–¢–ò–ß–ï–°–ö–ê–Ø –ß–ê–°–¢–û–¢–ê:")
    
    # –ú–æ–¥–µ–ª–∏—Ä—É–µ–º —Ä–µ–∞–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É
    actual_intervals = []
    for check_minute in range(10):  # –ú–æ–¥–µ–ª–∏—Ä—É–µ–º 10 –º–∏–Ω—É—Ç
        check_time = check_minute * 60  # –í—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
        if check_time == 0:
            # –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ - —Ñ–∏–ª—å—Ç—Ä –≥–æ—Ç–æ–≤
            actual_intervals.append(0)
            last_scan = 0
        else:
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å
            time_since_last = check_time - last_scan
            if time_since_last >= interval_seconds:
                actual_intervals.append(check_time)
                last_scan = check_time
    
    print("–í—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ | –î–µ–π—Å—Ç–≤–∏–µ")
    print("---------------------------|------------------")
    last_scan = 0
    for minute in range(6):
        check_time = minute * 60
        if minute == 0:
            print(f"00:00 (0 —Å–µ–∫)              | ‚úÖ –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ - —Å–∫–∞–Ω–∏—Ä—É–µ–º")
            last_scan = 0
        else:
            time_since_last = check_time - last_scan
            if time_since_last >= interval_seconds:
                print(f"{minute:02d}:00 ({check_time} —Å–µ–∫)           | ‚úÖ –ü—Ä–æ—à–ª–æ {time_since_last}—Å ‚â• {interval_seconds}—Å - —Å–∫–∞–Ω–∏—Ä—É–µ–º")
                last_scan = check_time
            else:
                print(f"{minute:02d}:00 ({check_time} —Å–µ–∫)           | ‚è±Ô∏è  –ü—Ä–æ—à–ª–æ {time_since_last}—Å < {interval_seconds}—Å - –∂–¥–µ–º")
    
    print()
    
    # –†–µ–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ —Å —É—á–µ—Ç–æ–º –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
    effective_interval = 60  # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
    actual_scans_per_hour = 3600 / effective_interval
    actual_scans_per_day = 24 * actual_scans_per_hour
    
    print("üìà –†–ï–ê–õ–¨–ù–ê–Ø –ß–ê–°–¢–û–¢–ê –°–ö–ê–ù–ò–†–û–í–ê–ù–ò–Ø:")
    print("-" * 35)
    print(f"‚Ä¢ –§–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ–¥–∏–Ω —Ñ–∏–ª—å—Ç—Ä —Å–∫–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ: ~{effective_interval} —Å–µ–∫—É–Ω–¥")
    print(f"‚Ä¢ –†–µ–∞–ª—å–Ω—ã—Ö —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –æ–¥–Ω–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞ –≤ —á–∞—Å: {actual_scans_per_hour:.0f}")
    print(f"‚Ä¢ –†–µ–∞–ª—å–Ω—ã—Ö —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –æ–¥–Ω–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞ –≤ –¥–µ–Ω—å: {actual_scans_per_day:.0f}")
    print()
    
    # –†–∞—Å—á–µ—Ç –æ–±—â–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ Kufar.by
    print("üåê –û–ë–©–ê–Ø –ù–ê–ì–†–£–ó–ö–ê –ù–ê KUFAR.BY:")
    print("-" * 35)
    total_requests_per_hour = num_filters * actual_scans_per_hour
    total_requests_per_day = num_filters * actual_scans_per_day
    
    print(f"‚Ä¢ –û–±—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Kufar.by –≤ —á–∞—Å: {total_requests_per_hour:.0f}")
    print(f"‚Ä¢ –û–±—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Kufar.by –≤ –¥–µ–Ω—å: {total_requests_per_day:.0f}")
    print(f"‚Ä¢ –°—Ä–µ–¥–Ω—è—è —á–∞—Å—Ç–æ—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤: {total_requests_per_hour/60:.1f} –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É")
    print()
    
    # –ê–Ω–∞–ª–∏–∑ –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏
    print("‚ö° –ê–ù–ê–õ–ò–ó –ü–ò–ö–û–í–û–ô –ù–ê–ì–†–£–ó–ö–ò:")
    print("-" * 30)
    print("üî¥ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞:")
    print(f"   ‚Ä¢ –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –≤—Å–µ {num_filters} —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Å–∫–∞–Ω–∏—Ä—É—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ")
    print(f"   ‚Ä¢ –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ~{num_filters * 3.5:.1f} —Å–µ–∫—É–Ω–¥ (—Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏ 2-5—Å)")
    print(f"   ‚Ä¢ –ó–∞—Ç–µ–º –∫–∞–∂–¥—ã–π —Ñ–∏–ª—å—Ç—Ä —Å–∫–∞–Ω–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É")
    print()
    
    # –ü—Ä–æ–±–ª–µ–º–∞ —Ç–µ–∫—É—â–µ–π –ª–æ–≥–∏–∫–∏
    print("‚ö†Ô∏è  –ü–†–û–ë–õ–ï–ú–ê –¢–ï–ö–£–©–ï–ô –õ–û–ì–ò–ö–ò:")
    print("-" * 30)
    print(f"üî¥ Query Refresh Delay = {interval_seconds} —Å–µ–∫—É–Ω–¥, –Ω–æ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥!")
    print()
    print("–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:")
    print(f"‚Ä¢ –ï—Å–ª–∏ Query Refresh Delay < 60 —Å–µ–∫—É–Ω–¥ ‚Üí —Ñ–∏–ª—å—Ç—Ä—ã –±—É–¥—É—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É")
    print(f"‚Ä¢ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ {interval_seconds} —Å–µ–∫—É–Ω–¥ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è!")
    print("‚Ä¢ –†–µ–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è = 60 —Å–µ–∫—É–Ω–¥")
    print()
    
    # –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
    print("üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:")
    print("-" * 35)
    print("1. üîß –ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞:")
    print("   if interval_seconds < 60:")
    print("       schedule.every(interval_seconds).seconds.do(search_and_notify)")
    print("   else:")
    print("       schedule.every(1).minutes.do(search_and_notify)")
    print()
    print("2. üìä –ü—Ä–∏ —Ç–µ–∫—É—â–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Query Refresh Delay = 10 —Å–µ–∫—É–Ω–¥:")
    print("   ‚Ä¢ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥")
    print("   ‚Ä¢ –≠—Ç–æ –¥–∞—Å—Ç 6 –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤ –º–∏–Ω—É—Ç—É")
    print(f"   ‚Ä¢ –ù–∞–≥—Ä—É–∑–∫–∞: {num_filters * 6 * 60:.0f} –∑–∞–ø—Ä–æ—Å–æ–≤/—á–∞—Å –≤–º–µ—Å—Ç–æ {total_requests_per_hour:.0f}")
    print()
    
    # –†–∞—Å—á–µ—Ç –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–µ
    print("üéØ –ü–†–ò –ü–†–ê–í–ò–õ–¨–ù–û–ô –õ–û–ì–ò–ö–ï (Query Refresh Delay = 10—Å):")
    print("-" * 50)
    correct_scans_per_hour = num_filters * (3600 / interval_seconds)
    correct_scans_per_day = correct_scans_per_hour * 24
    
    print(f"‚Ä¢ –ó–∞–ø—Ä–æ—Å–æ–≤ –∫ Kufar.by –≤ —á–∞—Å: {correct_scans_per_hour:.0f}")
    print(f"‚Ä¢ –ó–∞–ø—Ä–æ—Å–æ–≤ –∫ Kufar.by –≤ –¥–µ–Ω—å: {correct_scans_per_day:.0f}")
    print(f"‚Ä¢ –≠—Ç–æ {correct_scans_per_hour/60:.1f} –∑–∞–ø—Ä–æ—Å–æ–≤ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É!")
    
    if correct_scans_per_hour > 1000:
        print("üî¥ –ö–†–ò–¢–ò–ß–ù–û: –°–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞!")
        print("   –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–≤–µ–ª–∏—á–∏—Ç—å Query Refresh Delay –¥–æ 60+ —Å–µ–∫—É–Ω–¥")
    elif correct_scans_per_hour > 500:
        print("üü° –í–ù–ò–ú–ê–ù–ò–ï: –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ Kufar.by")
    else:
        print("üü¢ –ü—Ä–∏–µ–º–ª–µ–º–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞")
    
    print()
    print("=" * 60)
    print("üîö –ò–¢–û–ì–û–í–´–ô –í–´–í–û–î:")
    print(f"–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ –ù–ï —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Query Refresh Delay!")
    print(f"–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª: 60 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ {interval_seconds} —Å–µ–∫—É–Ω–¥")

if __name__ == "__main__":
    analyze_scanner_frequency()
