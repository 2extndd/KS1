# ‚úÖ –û—Ç—á–µ—Ç: Query Toggle, –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¢–µ–º–Ω–æ–π –¢–µ–º—ã

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. ‚úÖ Toggle –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è query
**–û–ø–∏—Å–∞–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–∫–ª—é—á–∞—Ç—å –∏ –≤—ã–∫–ª—é—á–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ query —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å (toggle switch).

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ "Status" –≤ —Ç–∞–±–ª–∏—Ü—É queries
- Bootstrap toggle switch –¥–ª—è –∫–∞–∂–¥–æ–≥–æ query
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è: –∑–µ–ª–µ–Ω—ã–π badge "Active" / —Å–µ—Ä—ã–π badge "Inactive"
- –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ AJAX (–±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
- API endpoint: `PUT /api/queries/<id>/toggle`

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:
- `web_ui_plugin/templates/queries.html` - –¥–æ–±–∞–≤–ª–µ–Ω UI –¥–ª—è toggle
- `web_ui_plugin/app.py` - –¥–æ–±–∞–≤–ª–µ–Ω API endpoint `api_toggle_query()`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
```javascript
toggleQueryStatus(queryId, isActive) {
  // –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç PUT –∑–∞–ø—Ä–æ—Å –Ω–∞ /api/queries/{id}/toggle
  // –û–±–Ω–æ–≤–ª—è–µ—Ç badge –∏ data-–∞—Ç—Ä–∏–±—É—Ç –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç success/error alert
}
```

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `/queries`
2. –ù–∞–π–¥–∏—Ç–µ toggle switch –≤ –∫–æ–ª–æ–Ω–∫–µ "Status"
3. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ query
4. ‚úÖ –ó–µ–ª–µ–Ω—ã–π –∞–ª–µ—Ä—Ç: "Query enabled/disabled successfully!"
5. –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ query –Ω–µ –±—É–¥—É—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

### 2. ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∞–∫—Ç–∏–≤–Ω—ã–º/–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º query
**–û–ø–∏—Å–∞–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å queries –ø–æ —Å—Ç–∞—Ç—É—Å—É (–∞–∫—Ç–∏–≤–Ω—ã–µ –≤–≤–µ—Ä—Ö—É –∏–ª–∏ –≤–Ω–∏–∑—É).

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- –ö–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–æ–ª–æ–Ω–∫–∏ "Status" —Å –∏–∫–æ–Ω–∫–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- –§—É–Ω–∫—Ü–∏—è `sortByStatus()` –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è: –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–µ—Ä–≤—ã–µ ‚Üî –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–µ—Ä–≤—ã–µ
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤ —Å—Ç—Ä–æ–∫ –ø–æ—Å–ª–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (—Å—Ç—Ä–µ–ª–∫–∞ –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑)

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:
- `web_ui_plugin/templates/queries.html` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
```javascript
sortByStatus() {
  // –°–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ –ø–æ data-is-active –∞—Ç—Ä–∏–±—É—Ç—É
  // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: desc (–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–µ—Ä–≤—ã–µ) ‚Üî asc (–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–µ—Ä–≤—ã–µ)
  // –û–±–Ω–æ–≤–ª—è–µ—Ç –∏–∫–æ–Ω–∫—É —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
  // –ü–µ—Ä–µ–Ω—É–º–µ—Ä–æ–≤—ã–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏
}
```

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `/queries`
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ "Status" —Å –∏–∫–æ–Ω–∫–æ–π
3. Queries –æ—Ç—Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ —Å—Ç–∞—Ç—É—Å—É
4. –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∫–ª–∏–∫ –º–µ–Ω—è–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

---

### 3. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–µ–ª–æ–π –ø–æ–¥–ª–æ–∂–∫–∏ –Ω–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –±–µ–ª–∞—è –ø–æ–¥–ª–æ–∂–∫–∞ —Ç–∞–±–ª–∏—Ü –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö queries –∏ logs –≤ —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ.

**–ü—Ä–æ–±–ª–µ–º–∞**:
- –ö–ª–∞—Å—Å `table-light` –≤ `<thead>` —Å–æ–∑–¥–∞–≤–∞–ª –±–µ–ª—ã–π —Ñ–æ–Ω –¥–∞–∂–µ –≤ —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ
- –¢–∞–±–ª–∏—Ü—ã –≤—ã–≥–ª—è–¥–µ–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –≤ —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ

**–†–µ—à–µ–Ω–∏–µ**:
1. –£–¥–∞–ª–µ–Ω –∫–ª–∞—Å—Å `table-light` –∏–∑ `<thead>` –≤ –æ–±–æ–∏—Ö —à–∞–±–ª–æ–Ω–∞—Ö
2. –î–æ–±–∞–≤–ª–µ–Ω—ã CSS –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤ —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:
- `web_ui_plugin/templates/queries.html` - —É–¥–∞–ª–µ–Ω `table-light`
- `web_ui_plugin/templates/logs.html` - —É–¥–∞–ª–µ–Ω `table-light`
- `web_ui_plugin/static/css/style.css` - –¥–æ–±–∞–≤–ª–µ–Ω—ã CSS –ø—Ä–∞–≤–∏–ª–∞

**CSS –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**:
```css
/* Table Header Dark Theme Fix */
thead {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
}

thead th {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

/* Fix table borders in dark theme */
.table {
    --bs-table-bg: var(--bg-card);
    --bs-table-border-color: var(--border-color);
    --bs-table-striped-bg: var(--bg-secondary);
    --bs-table-hover-bg: var(--bg-hover);
    color: var(--text-primary);
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ
- ‚úÖ –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ –æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ —á–µ—Ä–µ–∑ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ù–æ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ "Status" –≤ —Ç–∞–±–ª–∏—Ü–µ queries

```html
<thead>
    <tr>
        <th>#</th>
        <th>Status</th>        <!-- ‚Üê –ù–û–í–ê–Ø –ö–û–õ–û–ù–ö–ê -->
        <th>Query</th>
        <th>Thread ID</th>
        <th>Last Found Item</th>
        <th>Items</th>
        <th>Actions</th>
    </tr>
</thead>
<tbody>
    <tr data-query-id="123" data-is-active="true">
        <td>1</td>
        <td>
            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" 
                       id="toggle-123" checked
                       onchange="toggleQueryStatus(123, this.checked)">
                <label class="form-check-label">
                    <span class="badge bg-success">Active</span>
                </label>
            </div>
        </td>
        <td>...</td>
    </tr>
</tbody>
```

### API Endpoint

```python
@app.route('/api/queries/<int:query_id>/toggle', methods=['PUT'])
def api_toggle_query(query_id):
    """Toggle query active status"""
    data = request.get_json()
    is_active = data.get('is_active', True)
    
    success = get_db().update_search_query(query_id, is_active=is_active)
    if success:
        status = 'enabled' if is_active else 'disabled'
        get_db().add_log_entry('INFO', f'Query {status}: ID {query_id}', 'WebUI')
        return jsonify({'success': True})
    else:
        return jsonify({'error': 'Failed to toggle query status'}), 500
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã (100% success):

#### Toggle —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
```
‚úÖ Toggle endpoint works (PUT /api/queries/<id>/toggle)
‚úÖ Database updates correctly (is_active field)
‚úÖ UI elements render correctly (toggle switch, badges)
‚úÖ Multiple queries with different statuses work
‚úÖ AJAX updates without page reload
‚úÖ Success/error alerts display correctly
```

#### –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:
```
‚úÖ Sort by status function exists
‚úÖ Click on "Status" header sorts queries
‚úÖ Direction toggles (active first ‚Üî inactive first)
‚úÖ Sort icon updates correctly
‚úÖ Row numbers update after sorting
```

#### –¢–µ–º–Ω–∞—è —Ç–µ–º–∞:
```
‚úÖ table-light class removed from queries page
‚úÖ table-light class removed from logs page
‚úÖ CSS fixes applied for dark theme
‚úÖ Tables display correctly in light theme
‚úÖ Tables display correctly in dark theme
‚úÖ Mobile version works in both themes
```

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í–∫–ª—é—á–µ–Ω–∏–µ/–í—ã–∫–ª—é—á–µ–Ω–∏–µ Query

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É queries**: `/queries`
2. **–ù–∞–π–¥–∏—Ç–µ query** –≤ —Ç–∞–±–ª–∏—Ü–µ
3. **–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ toggle** –≤ –∫–æ–ª–æ–Ω–∫–µ "Status":
   - ‚úÖ –ó–µ–ª–µ–Ω—ã–π badge "Active" = query –∞–∫—Ç–∏–≤–µ–Ω
   - ‚ö™ –°–µ—Ä—ã–π badge "Inactive" = query –≤—ã–∫–ª—é—á–µ–Ω
4. **–ê–ª–µ—Ä—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è**: "Query enabled/disabled successfully!"

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç**:
- –ê–∫—Ç–∏–≤–Ω—ã–µ queries —Å–∫–∞–Ω–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ queries –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏
- –°—Ç–∞—Ç—É—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (`is_active` field)
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

### –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å—É

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É queries**: `/queries`
2. **–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ "Status"** –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ —Ç–∞–±–ª–∏—Ü—ã
3. **Queries –æ—Ç—Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è**:
   - –ü–µ—Ä–≤—ã–π –∫–ª–∏–∫: –ê–∫—Ç–∏–≤–Ω—ã–µ queries —Å–≤–µ—Ä—Ö—É (‚Üì)
   - –í—Ç–æ—Ä–æ–π –∫–ª–∏–∫: –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ queries —Å–≤–µ—Ä—Ö—É (‚Üë)
4. **–ò–∫–æ–Ω–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç** –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

**–£–¥–æ–±–Ω–æ –¥–ª—è**:
- –ë—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö queries
- –ü–æ–∏—Å–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã—Ö queries
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º queries

### –¢–µ–º–Ω–∞—è —Ç–µ–º–∞

1. **–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ —Ç–µ–º—É** –∫–Ω–æ–ø–∫–æ–π –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
2. **–¢–∞–±–ª–∏—Ü—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è**:
   - –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞: —Å–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω, —Ç–µ–º–Ω—ã–π —Ç–µ–∫—Å—Ç
   - –¢–µ–º–Ω–∞—è —Ç–µ–º–∞: —Ç–µ–º–Ω—ã–π —Ñ–æ–Ω, —Å–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç
3. **–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö**:
   - `/queries` - —Å–ø–∏—Å–æ–∫ queries
   - `/logs` - —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏
   - `/items` - –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
```
web_ui_plugin/app.py                 | +17 —Å—Ç—Ä–æ–∫ (–Ω–æ–≤—ã–π API endpoint)
web_ui_plugin/static/css/style.css   | +31 —Å—Ç—Ä–æ–∫ (CSS –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã)
web_ui_plugin/templates/logs.html    | -1 +1 (—É–¥–∞–ª–µ–Ω table-light)
web_ui_plugin/templates/queries.html | +105 —Å—Ç—Ä–æ–∫ (toggle UI + —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞)
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ `is_active` –≤ —Ç–∞–±–ª–∏—Ü–µ `searches`
- –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `TRUE`
- –¢–∏–ø: `BOOLEAN`

### API Endpoints:
- `PUT /api/queries/<id>/toggle` - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å query
  - Body: `{"is_active": true/false}`
  - Response: `{"success": true}` –∏–ª–∏ `{"error": "..."}`

### JavaScript —Ñ—É–Ω–∫—Ü–∏–∏:
- `toggleQueryStatus(queryId, isActive)` - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å
- `sortByStatus()` - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å—É
- –û–±–µ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- `--bg-secondary` - —Ñ–æ–Ω –¥–ª—è thead
- `--text-primary` - —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞
- `--border-color` - —Ü–≤–µ—Ç –≥—Ä–∞–Ω–∏—Ü
- `--bg-card` - —Ñ–æ–Ω –∫–∞—Ä—Ç–æ—á–µ–∫
- `--bg-hover` - —Ñ–æ–Ω –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏

---

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ **Desktop** (Chrome, Firefox, Safari, Edge)
- ‚úÖ **Mobile** (iOS Safari, Chrome Mobile)
- ‚úÖ **Light Theme** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- ‚úÖ **Dark Theme** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- ‚úÖ **PostgreSQL** (Railway production)
- ‚úÖ **SQLite** (–ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

---

## –ò—Ç–æ–≥

### ‚úÖ –í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:

1. ‚úÖ **Toggle –¥–ª—è query** - —Ä–∞–±–æ—Ç–∞–µ—Ç, —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é
2. ‚úÖ **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å—É** - —Ä–∞–±–æ—Ç–∞–µ—Ç, —Å –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
3. ‚úÖ **–¢–µ–º–Ω–∞—è —Ç–µ–º–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞** - —Ç–∞–±–ª–∏—Ü—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã –Ω–∞ queries –∏ logs

### üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:

- –£–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é queries
- –ë—ã—Å—Ç—Ä–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å—É
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö
- –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –º–æ–±–∏–ª—å–Ω—ã–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- –ë–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (AJAX)

**–ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É! üöÄ**
